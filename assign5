pipeline {
    agent any
    environment {
        MY_VAR = ''
    }
    stages {
        stage('Calculate Value') {
            steps {
                script {
                    // Simulating some calculation or value assignment
                    def calculatedValue = 10 * 5  // Example calculation
                    // Storing the result in the environment variable to pass it to the next stage
                    env.MY_VAR = "Calculated value is: ${calculatedValue}"
                }
            }
        }
        
        stage('Use the Value') {
            steps {
                script {
                    // Using the variable from the previous stage
                    echo "Received value: ${env.MY_VAR}"
                    
                    // Example decision based on the value
                    if (env.MY_VAR.contains('50')) {
                        echo "The calculated value is 50, performing action A."
                        // Perform action A here
                    } else {
                        echo "The calculated value is different, performing action B."
                        // Perform action B here
                    }
                }
            }
        }
    }
}
